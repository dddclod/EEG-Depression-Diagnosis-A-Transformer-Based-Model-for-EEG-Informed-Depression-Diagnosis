# 实验记录：Transformer+3D融合模型性能测试  
- **实验编号**：EXP-20251007-001  
- **日期**：2025-10-07  
- **实验人**：张三  
- **Commit ID**：a1b2c3d4e5f6  

## 1. 实验目的  
验证 **Transformer 频谱流 + 3D DenseNet 时空流** 双流 模型在 MODMA 数据集上的抑郁分类效果。  

## 2. 实验环境  
- **硬件**：NVIDIA RTX 3090（24GB）  
- **软件**：Ubuntu 22.04，Python 3.8.10  
- **依赖**：tensorflow==2.8.0，numpy==1.21.6，matplotlib==3.5.2，scikit-learn==1.0.2  

## 3. 数据集  
- **名称**：MODMA EEG Dataset  
- **预处理**：0.1-40Hz 带通滤波、ICA去伪影、全脑平均重参考  
- **划分**：train:val:test = 7:1:2  
- **路径**：
  - 频谱输入：`./processed_frequency`  
  - 时空输入：`./processed_spatial`  
  - 标签：`./labels/train_labels.npy`、`./labels/test_labels.npy`  

## 4. 模型配置  
- **输入尺寸**：`input_width=20`，`specInput_length=5`，`temInput_length=512`  
- **深度/增长率**：`depth_spec=64`, `gr_spec=4`；`depth_tem=16`, `gr_tem=6`  
- **Transformer**：4 heads，embedding dim 64  
- **3D DenseNet**：2 个密集块，分解式 3D 卷积  
- **训练参数**：batch_size=8，lr=0.001，epochs=100，class_weight={0:0.925, 1:1.088}  

## 5. 实验步骤  
```bash
python create_labels.py --data_path data/processed/
python run.py --config config.ini --transformer_config config_transformer.ini
```

## 6. 结果位置  
- 分类报告：`classification_report_001.txt`  
- 混淆矩阵：`confusion_matrix_001.png`  
- 训练曲线：`training_history_001.png`  
